"use strict";var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,u){function o(e){try{a(n.next(e))}catch(e){u(e)}}function s(e){try{a(n.throw(e))}catch(e){u(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInnerIDE=void 0;const i=t(require("path")),n=require("../../../util/FsUtil"),r=t(require("../../../log"));exports.isInnerIDE=function(){return e(this,void 0,void 0,(function*(){try{0;const e=i.default.resolve(__dirname,"..","..","..",".."),t=i.default.join(e,"plugins/ohos-trace/lib");if(r.default.debug("",`get trace lib path succeed, path: ${t}`),!(yield n.FsUtil.exists(t)))return!0;const u=yield n.FsUtil.readdir(t);if(!u||!u.length)return!1;for(const e of u)if(e&&e.startsWith("trace-inner"))return r.default.debug("","found inner file with special prefix"),!0;return!1}catch(e){return r.default.warn("",`check is inner ide failed, detail: ${e.message}`),!1}}))};