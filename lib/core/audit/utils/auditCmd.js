"use strict";var t=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(u,n){function o(t){try{d(r.next(t))}catch(t){n(t)}}function a(t){try{d(r.throw(t))}catch(t){n(t)}}function d(t){var e;t.done?u(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}d((r=r.apply(t,e||[])).next())}))},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.auditCmd=void 0;const i=require("../TelemetryBuilderFactory"),r=require("../AuditorFactory"),u=e(require("../../../log")),n=require("./genAuditData");exports.auditCmd=function(e,o,a,d){return t(this,void 0,void 0,(function*(){try{const t=(0,n.genAuditData)(e,o,a,d),u=i.TelemetryBuilderFactory.create(e,t),c=r.AuditorFactory.getAuditor();yield c.audit(u)}catch(t){u.default.debug("",`Audit failed, detail: ${(null==t?void 0:t.message)||t}`)}}))};