"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TracePathConfig=void 0;const r=require("../../common/Constants"),t=e(require("path")),i=e(require("os")),a=require("../../util"),s=e(require("../../log")),o=e(require("semver")),c=require("../../common/message"),u=require("../../util/OsUtil");class l{static getTraceLogDir(){s.default.debug("","start to get trace log dir");let e=r.Constants.PmVersion;if(!e)throw new Error(c.Messages.TraceWriter.GetOhpmVersionFail);if(e=e.includes("-")?e.split("-")[0]:e,!o.default.valid(e))throw new Error(c.Messages.TraceWriter.OhpmVersionInvalid);const n=e.lastIndexOf("."),_=l.IDE_NAME.concat(e.slice(0,n)),E=u.OsUtil.isWindows?l.TRACE_LOG_PATH:l.TRACE_MAC_LOG_PATH,d=t.default.join(i.default.homedir(),E,_,l.TRACE_LOG_DIRNAME);if(!a.FsBlockingUtil.existsSync(d))throw new Error((0,c.format)(c.Messages.TraceWriter.TraceLogPathUnExist,{logPath:d}));return s.default.debug("",`get trace log dir succeed, tracePath: ${d}`),d}}exports.TracePathConfig=l,l.TRACE_LOG_PATH="AppData/Local/Huawei",l.TRACE_MAC_LOG_PATH="Library/Caches/Huawei",l.IDE_NAME="DevEcoStudio",l.TRACE_LOG_DIRNAME="TraceLogData",l.TRACE_FILE_NAME_PREFIX="+++~!@##$_",l.SERVICE_FLAG="DevEcoStudio_Ohpm";